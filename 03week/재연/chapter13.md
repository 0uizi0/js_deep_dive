# 13. 스코프

### 스코프란 ?

- 1.  식별자 자신이 선언된 위치에 따라 결정 되어지는, 다른 코드가 자신을 참조할 수 있는 유효 범위
- 2.  자바스크립트 엔진이 참조해야할 변수를 결정하는 "식별자 결정" 과정에 사용하는 규칙

### 렉시컬 환경

- 코드가 어디서 실행되며 선언부 주변에 어떤 코드가 있는지를 뜻함 (==코드의 문맥)

#### ※스코프 관점 - var 키워드 vs let, const 키워드

- 1. var 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언이 허용된다. => 의도치 않게 변수 값이 재할당되어 변경되는 부작용 발생 (전역 스코프, 함수 스코프만 인식)
- 2. 반면 let, const 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언이 허용되지 않는다. (블록 스코프 인식)

### 스코프 체인

- 모든 스코프는 하나의 계층적 구조로 연결되며, 모든 지역의 최상위 스코프는 전역 스코프이다.

- 자바스크립트 엔진은 스코프 체인을 따라 변수를 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 이동하며 선언된 변수를 검색한다.
  ==> 이 같은 동작방식으로 인해 하위 스코프에서 유효한 변수를 상위 스코프에서 참조할 수 없는 것

### 렉시컬 스코프 (vs 동적 스코프)

- 함수를 어디서 정의했는지에 따라 함수의 상위 스코프를 결정하는 방식
- 자바스크립트를 비롯한 대부분의 프로그래밍 언어의 스코프 결정 방식

- 동적 스코프는 함수를 어디서 호출했는지에 따라 함수의 상위 스코프를 결정하는 방식

### 번외

1. 각 함수는 자체 렉시컬 환경을 가지고 전역환경을 참조할 수 있다.
2. function 키워드로 함수를 선언할 때 새로운 렉시컬 환경을 만들어 환경 내부에서 접근할 수 있는 변수를 등록한다.
3. 환경에 정의된 변수가 외부로부터 닫혀있기 때문에고 이를 기억하고 있기 때문
4. 내부 환경은 외부 환경보다 우선시 된다. (ex. 셰도잉)
   - 내부에서 사용된 변수가 내부 환경에 없을때만 외부환경 참조

# 면접 예상 질문

## 💥렉시컬 스코프란 ?

- 함수를 어디서 정의했는지에 따라 함수의 상위 스코프를 결정하는 방식

## 💥자바스크립트 엔진이 참조해야하는 식별자(변수)를 찾는 과정을 설명해주세요.

- 1. 먼저 변수가 사용된 렉시컬 환경의 스코프에서 해당 변수의 선언부가 있는지 찾는다.
- 2. 해당 스코프에 사용된 변수의 선언이 없다면 스코프 체인을 따라 상위의 스코프로 이동하며 변수의 선언부를 찾는다.

# 이야기하고 싶은 것

### 팩토리 함수 => Function.ProtoType.bind()와 유사 ?

- Function.ProtoType.bind() ==> 함수의 인자를 사전구성하려는 상황에서 함수를 직접 호출 하지 않을때 사용
