# 14장 전역 변수의 문제점

## 14.1 변수의 생명 주기

- 지역 변수의 생명주기

  - 함수 호출시 생성, 함수 종료시 소멸 => 생명주기가 있기 때문에 메모리공간 정리 가능
    - 함수 호출 직후 함수 몸체에서 코드 실행전에 자바스크립트 엔진에 의해 먼저 실행 > undefined 초기화 > 함수 몸체 실행되면서 변수에 값 할당 > 함수 종료 후 변수 소멸하여 생명주기 종료
  - 함수 실행동안만 유효 : 함수의 생명주기 == 지역변수 생명주기
  - 그러나! 함수보다 오래 생존하는 경우도 있음
    - 변수는 메모리공간을 식별하기위해 붙인 이름임으로 공간이 확보된 시점부터 공간이 해제되어 가용 메모리 풀에 반환되는 시점까지임
    - 함수가 생성한 스코프에 지역변수가 등록되고, 이 스코프는 렉시컬 환경이라 부르는 물리적 실체가 있음. 따라서 변수는 스코프가 소멸될때까지 유효
    - 아무것도 참조X, 가비지 콜렉터에 의해 해제되어 가용 메모리 풀에 반환<br/>
      => 변수를 누군가 참조하면 생명주기 소멸안됨. 스코프도 마찬가지임 (클로저 와 관련..)
  - 호이스팅 : 스코프 단위로 동작 > 호이스팅은 변수선언이 스코프의 선두로 끌어올려진것처럼 동작

    ```js
    var x = "global";

    function foo() {
      console.log(x); // undefined 뜸. 하단의 x가 스코프단위로 호이스팅되는데 초기화단계인 undefined가 먼저 설정되기 때문
      var x = "local";
    }

    foo();
    console.log(x); // global
    ```

- 전역 변수의 생명주기
  - 전역 변수 선언은 런타임 이전 단계에 자바스크립트 엔진에 의해 먼저 실행
  - 전역 코드는 함수와는 다르게 명시적 호출없이 실행 ~ 더이상 실행할 문이 없으면 종료 > var 키워드 선언한 변수는 전역 객체의 프로퍼티임
    - 전역 변수 생명주기 == 전역 객체의 생명주기



---

# 면접 예상 질문

## 💥 전역변수를 무분별하게 사용시 어떤 문제점이 있나요?

## 💥 변수의 생명주기에 대해서 설명해주세요.

---

# 이야기하고 싶은 것

