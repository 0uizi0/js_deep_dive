# let, const 키워드와 블록 레벨 스코프

## 15.1 var 키워드로 선언한 변수의 문제점
* 변수 중복 선언 허용
  * 중복 선언시 먼저 선언된 변수 값이 변경되는 부작용 발생 
  * 초기화문(선언,할당이뤄지는 문)이 없으면 무시됨 : `var x = 1` 하고 밑에 또 `var x;` 선언문을 쓰면 에러 안뜨고 무시됨
* 함수 레벨 스코프
  * var로 선언한 변수 :함수 코드 블록만을 스코프로 인정 > 함수 외부(for, if 등)에 선언한 변수는 모두 전역 변수 
* 변수 호이스팅
  * 호이스팅으로 인해 변수 선언문이 선두로 끌어올려진것처럼 동작. (그러나 할당전 변수 참조 시 undefined)
  * 에러는 나지 않지만 프로그램 흐름에 맞지 않음
![image](https://github.com/KingJiwon/js_deep_dive/assets/84695884/b70da746-6eaf-4abe-b3ab-102d22fd014c)


## 15.2 let 키워드
* es6 > var의 단점을 개선시키고자 생성
* 변수 중복 선언 금지
  * 같은 이름의 변수를 중복 선언시 문법 에러(SyntaxError) 발생
* 블록 레벨 스코프
  * 모든 코드 블록(if,for,try/catch,함수 등)을 지역 스코프로 인정함 (함수 레벨 스코프를 따르는 var와 다름)
  * 
* 변수 호이스팅
  * 선언단계와 초기화 단계가 분리되어 진행됨 : 호이스팅이 발생하지 않는것 처럼 동작(그러나 호이스팅은 됨) <br/>
    => 선언만 암묵적으로 실행되고, 초기화는 변수 선언문에 도달했을때 실행됨. <br/>
    => 모든 선언(var, let, const, functoin, calss 등)은 호이스팅 됨. 그러나 TDZ로 선언전에 호출시 참조 에러(ReferenceError)발생
  * TDZ : 일시적 사각지대
    * 스코프 시작지점 ~ 변수 선언문 사이까지 구간, 변수를 참조할 수 없는 구간을 의미 
![image](https://github.com/KingJiwon/js_deep_dive/assets/84695884/e78be3dc-b62d-4f8b-8ba1-9c28eecd1073)
  * 전역 객체와 let
    * let으로 선언시 전역객체의 프로퍼티가 아님 > window.x 이렇게 못함
      * 보이지 않는 개념인 블록 내에 존재

## 15.3 const 키워드
* 상수 선언
* let과 차이점
  * 선언과 초기화
    * 반드시 선언과 동시에 초기화해야함 `const foo = 1` 안그러면 SyntaxError 발생
    * 블록레벨 스코프 > 호이스팅이 발생하지 않는것처럼 동작
  * 재할당 금지
  * 상수 : 값 변경 X > 재할당이 금지된 변수(불변은 아님) - 가독성, 유지보수의 편의
    * 변경할 수 없는 값 = 원시값 / 재할당이 금지된것 = 상수
    * 대문자 권장, _ 사용하거나 스네이크 케이스 사용
  * const 키워드와 객체 : 객체 할당시 값 변경 가능
    * 객체는 변경가능한 값이기 때문에 재할당이 아니더라도 직접 변경이 가능
      * 프로퍼티 동적 생성, 삭제, 변경 가능 > 참조값은 변경되지 않음

## 15.4 var vs. let vs. const
* 기본적으로 const 사용, 재할당이 필요하면 let(스코프 좁게 권장) 사용
* es6사용시 var X
* 읽기 전용으로 사용하는 원시값과 객체에는 const 사용 (안전)
---

# 면접 예상 질문

## 💥 SyntaxError 와 ReferenceError의 차이점은?
SyntaxError는 문법적으로 잘못된 코드를 해석하려고 시도할 때 발생하는 오류를 나타낸다. JavaScript 엔진이 코드를 구문 분석할 때 언어의 구문에 맞지 않는 토큰이나 토큰 순서를 만나면 이 에러를 발생시킵니다.
ReferenceError는 현재 범위에서 존재하지 않거나 초기화되지 않은 변수를 참조했을 때 발생하는 에러이다. 그런데 특정부분 오탈자가 났을때에도 일어난다고 한다(블로그 참조) 

### 참조 : MDN 공식문서
https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError
https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError
https://blog.naver.com/hunii123/222476748138

---

# 이야기하고 싶은 것

### p.208

> let, const 키워드

왜 제목에 let, const 키워드라고 했을까? 왜 키워드?!?! 그래서 키워드를 검색해보았지.
키워드(keyword)는 검색이나 광고, 내용 요약, 프로그램 개발 등에서 사용하는 핵심 단어를 말한다. 
키워드 : 컴퓨터 프로그램용으로 고정된 예약어이자 식별자로 사용할 수 없는 단어.

### p. 209

> 함수 레벨 스코프는 전역 변수를 남발할 가능성을 높인다
>

엥? 함수 코드 블록만을 스코프로 인정하는건데 왜 전역변수가 중복선언되는 경우가 발생한다는거지? 지역변수가 된다는거 아니었나?

### p.211

> 함수도 코드 블록이므로 스코프를 만단다. 이때 함수 내의 코드 블록은 함수 레벨 스코프에 중첩된다.

함수내의 코드 블록과 함수 레벨 스코프에 중첩..? 이게 뭔말일까.. 

### p.214
> 모든 선언(var, let, const, function, function*, class 등)은 호이스팅한다

function*이 뭘까
